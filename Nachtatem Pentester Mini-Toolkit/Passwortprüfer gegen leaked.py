# password_checker_bulk.py
import random

print("🛡️ Willkommen, Menschenkind! Nachtatem prüft dein Passwort-Ödland…")

# Eingabe der Passwortliste (ein Passwort pro Zeile)
password_file = input("Gib den Pfad zu deiner Passwortdatei ein (oder einzelne Passwörter, kommasepariert): ")

# Pfad zur leaked.txt
leak_file = input("Gib den Pfad zu deiner leaked.txt Datei ein: ")

# Fallout-/Vault-Sprüche
messages = [
    "💀 Nachtatem streift durchs Ödland… Prüft Passwort Nr. {}",
    "⚡ Noch ein Byte ins Ödland: Nr. {}",
    "🔥 Vault-Scanner läuft … Passwort Nr. {}",
    "🛠️ Sicherheitsschmiede aktiv: Passwort Nr. {}",
    "☢️ Nuklearer Check … Passwort Nr. {}",
    "🦖 Dino bewacht Passwort Nr. {}",
    "💣 Sprengladung gesetzt … Passwort Nr. {}",
]

# Passwortliste einlesen
try:
    with open(password_file, 'r', encoding='utf-8', errors='ignore') as f:
        passwords = [p.strip() for p in f.readlines() if p.strip()]
except FileNotFoundError:
    # Alternativ: einzelne Passwörter per Kommaseingabe
    passwords = [p.strip() for p in password_file.split(",") if p.strip()]

# Leaked-Datei einlesen
with open(leak_file, 'r', encoding='utf-8', errors='ignore') as f:
    leaked_passwords = set(p.strip() for p in f.readlines())

# Ergebnisse speichern
save_results = input("Möchtest du die Ergebnisse in einer Datei speichern? (y/n): ").lower() == "y"
if save_results:
    output_file = "password_check_results.txt"
    out_f = open(output_file, "w", encoding="utf-8")

# Prüfen
for idx, pwd in enumerate(passwords, 1):
    print(random.choice(messages).format(idx))
    progress = (idx / len(passwords)) * 100
    print(f"📊 Fortschritt: {progress:.2f}%\n")
    
    if pwd in leaked_passwords:
        result = f"❌ Passwort geleakt: {pwd}"
        print(result)
    else:
        result = f"✅ Passwort sicher: {pwd}"
        print(result)
    
    if save_results:
        out_f.write(result + "\n")

if save_results:
    out_f.close()
    print(f"\n💾 Ergebnisse wurden in {output_file} gespeichert.")

print("\n🎉 Alle Passwörter geprüft! Nachtatem meldet Vollzug.")
